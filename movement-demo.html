<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Football Life Sim - Character Movement Demo</title>
    <style>
        :root { 
          font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
          --primary-bg: #1a2332;
          --secondary-bg: #0f1a31;
          --card-bg: #243447;
          --accent-blue: #4a9eff;
          --accent-green: #2da44e;
          --accent-orange: #ff8c42;
          --accent-red: #ff6b6b;
          --text-primary: #e7ecf3;
          --text-secondary: #98a2b3;
          --border-color: #3d4f66;
        }

        body { 
          margin: 0; 
          background: linear-gradient(135deg, var(--primary-bg) 0%, #0b1320 100%);
          color: var(--text-primary);
          min-height: 100vh;
          padding: 20px;
        }

        .container { 
          max-width: 1200px; 
          margin: 0 auto; 
        }

        .card { 
          border: 1px solid var(--border-color); 
          border-radius: 16px; 
          padding: 20px; 
          margin-bottom: 16px; 
          background: var(--card-bg);
          box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        }

        /* Character Sprite */
        .character-sprite {
          width: 64px;
          height: 80px;
          position: relative;
          animation: idle 2s ease-in-out infinite alternate;
        }

        .character-body {
          width: 32px;
          height: 40px;
          background: #FFB366;
          border-radius: 16px 16px 8px 8px;
          position: absolute;
          bottom: 20px;
          left: 16px;
          border: 2px solid #E69A4A;
        }

        .character-head {
          width: 24px;
          height: 24px;
          background: #FFB366;
          border-radius: 50%;
          position: absolute;
          bottom: 52px;
          left: 20px;
          border: 2px solid #E69A4A;
        }

        .character-hair {
          width: 20px;
          height: 12px;
          background: #8B4513;
          border-radius: 10px 10px 0 0;
          position: absolute;
          top: -6px;
          left: 2px;
        }

        .character-legs {
          width: 8px;
          height: 20px;
          background: #4169E1;
          position: absolute;
          bottom: 0;
          border-radius: 0 0 4px 4px;
        }

        .character-legs.left { left: 20px; }
        .character-legs.right { left: 36px; }

        .character-arms {
          width: 6px;
          height: 16px;
          background: #FFB366;
          position: absolute;
          top: 8px;
          border-radius: 3px;
          border: 1px solid #E69A4A;
        }

        .character-arms.left { left: 8px; }
        .character-arms.right { right: 8px; }

        /* Animation States */
        .character-sprite.walking {
          animation: walking 0.6s ease-in-out infinite;
        }

        .character-sprite.training {
          animation: training 1s ease-in-out infinite;
        }

        @keyframes idle {
          0% { transform: translateY(0px); }
          100% { transform: translateY(-3px); }
        }

        @keyframes walking {
          0%, 100% { 
            transform: translateY(0px) rotate(0deg); 
          }
          25% { 
            transform: translateY(-2px) rotate(-1deg); 
          }
          50% { 
            transform: translateY(0px) rotate(0deg); 
          }
          75% { 
            transform: translateY(-2px) rotate(1deg); 
          }
        }

        @keyframes training {
          0%, 100% { transform: translateY(0px) scale(1); }
          50% { transform: translateY(-8px) scale(1.05); }
        }

        .interactive-object {
          cursor: pointer;
          transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .interactive-object:hover {
          transform: scale(1.05);
          box-shadow: 0 0 15px rgba(74, 158, 255, 0.5);
        }

        .action-menu {
          background: var(--card-bg);
          border: 2px solid var(--border-color);
          border-radius: 12px;
          padding: 16px;
          box-shadow: 0 8px 24px rgba(0, 0, 0, 0.4);
          min-width: 300px;
        }

        button {
          background: var(--accent-blue);
          color: white;
          border: none;
          padding: 8px 16px;
          border-radius: 8px;
          cursor: pointer;
          margin: 4px;
          display: inline-flex;
          align-items: center;
          gap: 6px;
        }

        button:hover {
          background: #3a8eef;
        }

        button:disabled {
          background: #2a3550;
          cursor: not-allowed;
        }

        .tooltip {
          position: absolute;
          background: rgba(0, 0, 0, 0.8);
          color: white;
          padding: 4px 8px;
          border-radius: 4px;
          font-size: 12px;
          white-space: nowrap;
          z-index: 30;
          pointer-events: none;
        }

        .movement-trail {
          position: absolute;
          width: 4px;
          height: 4px;
          background: rgba(74, 158, 255, 0.5);
          border-radius: 50%;
          pointer-events: none;
          animation: fadeOut 2s ease-out forwards;
        }

        @keyframes fadeOut {
          0% { opacity: 1; transform: scale(1); }
          100% { opacity: 0; transform: scale(0.5); }
        }

        h1, h2, h3 {
          margin-top: 0;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="card">
            <h1>‚öΩ Football Life Sim - Character Movement System</h1>
            <p>Watch the character walk around the house! Click on different objects to see the character move to them before showing the action menu.</p>
        </div>

        <div class="card">
            <h2>üö∂‚Äç‚ôÇÔ∏è Interactive Movement Demo</h2>
            
            <!-- Home Scene with Movement -->
            <div id="home-scene" style="position: relative; width: 100%; height: 500px; background: linear-gradient(180deg, #87CEEB 0%, #90EE90 50%, #228B22 100%); border-radius: 16px; overflow: hidden; border: 2px solid var(--border-color);">
                
                <!-- House structure -->
                <div style="position: absolute; top: 10%; left: 35%; width: 55%; height: 60%; background: linear-gradient(45deg, #8B4513 0%, #A0522D 100%); border-radius: 8px 8px 0 0; border: 3px solid #654321;">
                    <!-- Roof -->
                    <div style="position: absolute; top: -15%; left: -5%; width: 110%; height: 20%; background: linear-gradient(45deg, #A0522D 0%, #CD853F 100%); clip-path: polygon(10% 100%, 50% 0%, 90% 100%); border: 2px solid #8B4513;"></div>
                    
                    <!-- Windows -->
                    <div style="position: absolute; top: 20%; left: 15%; width: 15%; height: 25%; background: #87CEEB; border: 2px solid #4682B4; border-radius: 4px;"></div>
                    <div style="position: absolute; top: 20%; right: 15%; width: 15%; height: 25%; background: #87CEEB; border: 2px solid #4682B4; border-radius: 4px;"></div>
                    
                    <!-- Door -->
                    <div style="position: absolute; bottom: 0%; left: 40%; width: 20%; height: 40%; background: #654321; border: 2px solid #4A4A4A; border-radius: 4px 4px 0 0;"></div>
                </div>

                <!-- Character sprite -->
                <div id="character" class="character-sprite" style="position: absolute; bottom: 20%; left: 45%; z-index: 10; transition: none;">
                    <div class="character-head">
                        <div class="character-hair"></div>
                    </div>
                    <div class="character-body">
                        <div class="character-arms left"></div>
                        <div class="character-arms right"></div>
                    </div>
                    <div class="character-legs left"></div>
                    <div class="character-legs right"></div>
                </div>

                <!-- Interactive Objects -->
                
                <!-- Bed -->
                <div class="interactive-object" data-target="70,35" onclick="moveToObject(this, 'bed')" style="position: absolute; left: 75%; top: 15%; width: 20%; height: 25%; background: #8B4513; border-radius: 8px; border: 3px solid #654321; cursor: pointer;">
                    <div style="position: absolute; top: 10%; left: 10%; width: 80%; height: 20%; background: #FFFFFF; border-radius: 4px;"></div>
                    <div style="position: absolute; top: 30%; left: 10%; width: 80%; height: 60%; background: #FF69B4; border-radius: 4px;"></div>
                    <div class="tooltip" style="display: none; position: absolute; top: -30px; left: 50%; transform: translateX(-50%);">üõèÔ∏è Bed - Sleep here</div>
                </div>

                <!-- TV & Sofa -->
                <div class="interactive-object" data-target="22,60" onclick="moveToObject(this, 'tv')" style="position: absolute; left: 10%; top: 45%; width: 25%; height: 20%; background: linear-gradient(45deg, #2F4F4F 0%, #708090 100%); border-radius: 4px; border: 2px solid #1C1C1C; cursor: pointer;">
                    <div style="position: absolute; top: 10%; left: 60%; width: 35%; height: 60%; background: #000000; border-radius: 2px; border: 2px solid #333;"></div>
                    <div style="position: absolute; bottom: 10%; left: 10%; width: 45%; height: 40%; background: #8B4513; border-radius: 4px;"></div>
                    <div class="tooltip" style="display: none; position: absolute; top: -30px; left: 50%; transform: translateX(-50%);">üì∫ TV - Watch game footage</div>
                </div>

                <!-- Kitchen -->
                <div class="interactive-object" data-target="55,35" onclick="moveToObject(this, 'kitchen')" style="position: absolute; left: 40%; top: 15%; width: 30%; height: 25%; background: linear-gradient(45deg, #F5F5DC 0%, #DDBF94 100%); border-radius: 6px; border: 2px solid #8B7355; cursor: pointer;">
                    <div style="position: absolute; top: 20%; left: 10%; width: 30%; height: 60%; background: #C0C0C0; border-radius: 2px;"></div>
                    <div style="position: absolute; top: 20%; right: 10%; width: 25%; height: 40%; background: #FFFFFF; border-radius: 2px;"></div>
                    <div class="tooltip" style="display: none; position: absolute; top: -30px; left: 50%; transform: translateX(-50%);">üçΩÔ∏è Kitchen - Eat & drink</div>
                </div>

                <!-- Backyard Football Pitch -->
                <div class="interactive-object" data-target="25,85" onclick="moveToObject(this, 'backyard')" style="position: absolute; left: 5%; top: 70%; width: 40%; height: 25%; background: linear-gradient(45deg, #228B22 0%, #32CD32 100%); border-radius: 20px; border: 3px solid #FFFFFF; cursor: pointer;">
                    <div style="position: absolute; top: 50%; left: 50%; width: 8px; height: 8px; background: #FFFFFF; border-radius: 50%; transform: translate(-50%, -50%);"></div>
                    <div style="position: absolute; top: 20%; left: 10%; width: 4px; height: 60%; background: #FFFFFF;"></div>
                    <div style="position: absolute; top: 20%; right: 10%; width: 4px; height: 60%; background: #FFFFFF;"></div>
                    <div class="tooltip" style="display: none; position: absolute; top: -30px; left: 50%; transform: translateX(-50%);">‚öΩ Football Pitch - Play with friends</div>
                </div>

                <!-- Street -->
                <div class="interactive-object" data-target="72,85" onclick="moveToObject(this, 'street')" style="position: absolute; left: 50%; top: 75%; width: 45%; height: 15%; background: linear-gradient(90deg, #696969 0%, #A9A9A9 50%, #696969 100%); border-radius: 4px; border: 2px solid #2F2F2F; cursor: pointer;">
                    <div style="position: absolute; top: 40%; left: 0%; width: 100%; height: 4px; background: #FFFF00; opacity: 0.7;"></div>
                    <div style="position: absolute; top: 40%; left: 20%; width: 10%; height: 4px; background: #FFFFFF;"></div>
                    <div style="position: absolute; top: 40%; left: 40%; width: 10%; height: 4px; background: #FFFFFF;"></div>
                    <div style="position: absolute; top: 40%; left: 60%; width: 10%; height: 4px; background: #FFFFFF;"></div>
                    <div class="tooltip" style="display: none; position: absolute; top: -30px; left: 50%; transform: translateX(-50%);">üèÉ Street - Go jogging</div>
                </div>

                <!-- Living Room Floor -->
                <div class="interactive-object" data-target="25,60" onclick="moveToObject(this, 'living-room')" style="position: absolute; left: 15%; top: 50%; width: 20%; height: 15%; background: linear-gradient(45deg, #DEB887 0%, #F5DEB3 100%); border-radius: 4px; border: 2px solid #CD853F; cursor: pointer;">
                    <!-- Exercise mat -->
                    <div style="position: absolute; top: 20%; left: 20%; width: 60%; height: 60%; background: #4169E1; border-radius: 8px; border: 2px solid #1E3A8A;"></div>
                    <!-- Dumbbells -->
                    <div style="position: absolute; top: 10%; right: 10%; width: 8px; height: 4px; background: #2F2F2F; border-radius: 2px;"></div>
                    <div style="position: absolute; top: 10%; right: 5%; width: 8px; height: 4px; background: #2F2F2F; border-radius: 2px;"></div>
                    <div class="tooltip" style="display: none; position: absolute; top: -30px; left: 50%; transform: translateX(-50%);">üí™ Living Room - Do push-ups</div>
                </div>

                <!-- Juggling Area -->
                <div class="interactive-object" data-target="67,60" onclick="moveToObject(this, 'juggling-area')" style="position: absolute; left: 60%; top: 50%; width: 15%; height: 15%; background: radial-gradient(circle, #FFE4B5 0%, #DEB887 100%); border-radius: 50%; border: 2px dashed #CD853F; cursor: pointer;">
                    <div style="position: absolute; top: 50%; left: 50%; width: 12px; height: 12px; background: #FF4500; border-radius: 50%; transform: translate(-50%, -50%);"></div>
                    <div class="tooltip" style="display: none; position: absolute; top: -30px; left: 50%; transform: translateX(-50%);">‚öΩ Juggling Area - Practice ball skills</div>
                </div>

                <!-- Instructions -->
                <div style="position: absolute; top: 10px; left: 10px; background: rgba(0, 0, 0, 0.7); color: white; padding: 8px 12px; border-radius: 8px; font-size: 12px; max-width: 250px;">
                    <strong>üö∂‚Äç‚ôÇÔ∏è Character Movement</strong><br />
                    Click on any object to watch the character walk there!
                </div>

                <!-- Movement Status -->
                <div id="movement-status" style="position: absolute; top: 10px; right: 10px; background: rgba(0, 0, 0, 0.7); color: white; padding: 8px 12px; border-radius: 8px; font-size: 12px;">
                    Status: <span id="status-text">Idle</span>
                </div>
            </div>
        </div>

        <!-- Action Menu (hidden by default) -->
        <div id="action-menu" class="action-menu" style="display: none; position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); z-index: 100;">
            <h4 id="object-name" style="margin: 0 0 12px 0; text-align: center;"></h4>
            <div id="action-buttons" style="display: flex; gap: 8px; flex-wrap: wrap; justify-content: center;"></div>
            <button onclick="hideActions()" style="position: absolute; top: 8px; right: 8px; background: transparent; border: none; color: var(--text-secondary); cursor: pointer; padding: 4px;">‚úï</button>
        </div>

        <div class="card">
            <h3>üö∂‚Äç‚ôÇÔ∏è Movement Features</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 16px;">
                <div>
                    <h4>üéØ Smart Pathfinding</h4>
                    <ul>
                        <li>Character walks to optimal position for each object</li>
                        <li>Smooth easing animation</li>
                        <li>Speed based on distance</li>
                        <li>Faces correct direction while walking</li>
                    </ul>
                </div>
                <div>
                    <h4>üé≠ Animation States</h4>
                    <ul>
                        <li><strong>Walking:</strong> Bouncing movement with slight rotation</li>
                        <li><strong>Idle:</strong> Gentle breathing animation</li>
                        <li><strong>Training:</strong> Active workout animation</li>
                        <li>Character flips horizontally based on direction</li>
                    </ul>
                </div>
                <div>
                    <h4>üéÆ Interactive Experience</h4>
                    <ul>
                        <li>Click object ‚Üí Character walks there ‚Üí Action menu appears</li>
                        <li>Visual feedback during movement</li>
                        <li>Prevents clicks during movement</li>
                        <li>Realistic timing and positioning</li>
                    </ul>
                </div>
                <div>
                    <h4>‚ú® Visual Polish</h4>
                    <ul>
                        <li>Smooth transitions between states</li>
                        <li>Movement trail effects (optional)</li>
                        <li>Status indicator</li>
                        <li>Hover tooltips on objects</li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="card">
            <h3>üéØ Try It Out!</h3>
            <p>Click on different objects around the house to see the character movement in action:</p>
            <div style="display: flex; gap: 12px; flex-wrap: wrap; justify-content: center;">
                <button onclick="moveToRandomObject()">üé≤ Random Movement</button>
                <button onclick="tourHouse()">üè† House Tour</button>
                <button onclick="resetCharacter()">üîÑ Reset Position</button>
            </div>
        </div>
    </div>

    <script>
        let characterPosition = { x: 45, y: 20 };
        let isWalking = false;
        let walkingDirection = 'right';

        // Object definitions with their actions and positions
        const objects = {
            'bed': { name: 'üõèÔ∏è Bed', target: { x: 70, y: 35 }, actions: [{ id: 'sleep', label: 'Sleep', icon: 'üò¥' }] },
            'tv': { name: 'üì∫ TV & Sofa', target: { x: 22, y: 60 }, actions: [{ id: 'watch', label: 'Watch Footage', icon: 'üì∫' }] },
            'kitchen': { name: 'üçΩÔ∏è Kitchen', target: { x: 55, y: 35 }, actions: [{ id: 'eat', label: 'Eat Meal', icon: 'üçΩÔ∏è' }, { id: 'drink', label: 'Have Drink', icon: 'ü•§' }] },
            'backyard': { name: '‚öΩ Football Pitch', target: { x: 25, y: 85 }, actions: [{ id: 'play', label: 'Play with Friends', icon: '‚öΩ' }] },
            'street': { name: 'üèÉ Street', target: { x: 72, y: 85 }, actions: [{ id: 'jog', label: 'Go Jogging', icon: 'üèÉ' }] },
            'living-room': { name: 'üí™ Living Room', target: { x: 25, y: 60 }, actions: [{ id: 'pushups', label: 'Do Push-ups', icon: 'üí™' }] },
            'juggling-area': { name: '‚öΩ Juggling Area', target: { x: 67, y: 60 }, actions: [{ id: 'juggle', label: 'Practice Juggling', icon: '‚öΩ' }] }
        };

        // Update status display
        function updateStatus(status) {
            document.getElementById('status-text').textContent = status;
        }

        // Move character to target position
        function moveCharacterTo(targetX, targetY, callback) {
            if (isWalking) return;
            
            isWalking = true;
            walkingDirection = targetX > characterPosition.x ? 'right' : 'left';
            updateStatus(`Walking ${walkingDirection}...`);
            
            const character = document.getElementById('character');
            character.className = 'character-sprite walking';
            character.style.transform = walkingDirection === 'left' ? 'scaleX(-1)' : 'scaleX(1)';
            
            // Calculate movement duration based on distance
            const distance = Math.sqrt(Math.pow(targetX - characterPosition.x, 2) + Math.pow(targetY - characterPosition.y, 2));
            const duration = Math.max(800, distance * 25); // Minimum 800ms, scale with distance
            
            // Animate movement
            const startTime = Date.now();
            const startX = characterPosition.x;
            const startY = characterPosition.y;
            
            const animate = () => {
                const elapsed = Date.now() - startTime;
                const progress = Math.min(elapsed / duration, 1);
                
                // Easing function for smooth movement
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                
                const currentX = startX + (targetX - startX) * easeProgress;
                const currentY = startY + (targetY - startY) * easeProgress;
                
                characterPosition = { x: currentX, y: currentY };
                
                // Update character position
                character.style.bottom = `${100 - currentY - 8}%`;
                character.style.left = `${currentX - 3}%`;
                
                // Add movement trail effect
                if (Math.random() < 0.3) {
                    createTrail(currentX, currentY);
                }
                
                if (progress < 1) {
                    requestAnimationFrame(animate);
                } else {
                    isWalking = false;
                    character.className = 'character-sprite';
                    updateStatus('Idle');
                    if (callback) callback();
                }
            };
            
            requestAnimationFrame(animate);
        }

        // Create movement trail effect
        function createTrail(x, y) {
            const trail = document.createElement('div');
            trail.className = 'movement-trail';
            trail.style.bottom = `${100 - y - 4}%`;
            trail.style.left = `${x}%`;
            document.getElementById('home-scene').appendChild(trail);
            
            setTimeout(() => {
                if (trail.parentNode) {
                    trail.parentNode.removeChild(trail);
                }
            }, 2000);
        }

        // Move to object when clicked
        function moveToObject(element, objectId) {
            if (isWalking) return;
            
            const obj = objects[objectId];
            if (obj) {
                moveCharacterTo(obj.target.x, obj.target.y, () => {
                    showActions(objectId);
                });
            }
        }

        // Show action menu
        function showActions(objectId) {
            const obj = objects[objectId];
            if (!obj) return;

            const menu = document.getElementById('action-menu');
            const nameEl = document.getElementById('object-name');
            const buttonsEl = document.getElementById('action-buttons');

            nameEl.textContent = obj.name;
            buttonsEl.innerHTML = '';

            obj.actions.forEach(action => {
                const button = document.createElement('button');
                button.innerHTML = `<span>${action.icon}</span> ${action.label}`;
                button.onclick = () => performAction(action.id, objectId);
                buttonsEl.appendChild(button);
            });

            menu.style.display = 'block';
        }

        // Hide action menu
        function hideActions() {
            document.getElementById('action-menu').style.display = 'none';
        }

        // Perform action
        function performAction(actionId, objectId) {
            const character = document.getElementById('character');
            character.className = 'character-sprite training';
            updateStatus(`Performing ${actionId}...`);
            
            setTimeout(() => {
                character.className = 'character-sprite';
                updateStatus('Idle');
                alert(`Action completed: ${actionId} at ${objects[objectId].name}!`);
            }, 2000);
            
            hideActions();
        }

        // Demo functions
        function moveToRandomObject() {
            if (isWalking) return;
            const objectIds = Object.keys(objects);
            const randomId = objectIds[Math.floor(Math.random() * objectIds.length)];
            const obj = objects[randomId];
            moveCharacterTo(obj.target.x, obj.target.y);
        }

        function tourHouse() {
            if (isWalking) return;
            const tour = ['kitchen', 'tv', 'living-room', 'juggling-area', 'bed', 'backyard', 'street'];
            let currentStop = 0;
            
            function nextStop() {
                if (currentStop < tour.length) {
                    const obj = objects[tour[currentStop]];
                    moveCharacterTo(obj.target.x, obj.target.y, () => {
                        currentStop++;
                        setTimeout(nextStop, 1000);
                    });
                }
            }
            
            nextStop();
        }

        function resetCharacter() {
            if (isWalking) return;
            moveCharacterTo(45, 20);
        }

        // Show tooltips on hover
        document.querySelectorAll('.interactive-object').forEach(obj => {
            obj.addEventListener('mouseenter', function() {
                const tooltip = this.querySelector('.tooltip');
                if (tooltip) {
                    tooltip.style.display = 'block';
                }
            });
            
            obj.addEventListener('mouseleave', function() {
                const tooltip = this.querySelector('.tooltip');
                if (tooltip) {
                    tooltip.style.display = 'none';
                }
            });
        });

        // Close menu when clicking outside
        document.addEventListener('click', function(e) {
            const menu = document.getElementById('action-menu');
            const isClickInside = menu.contains(e.target) || e.target.classList.contains('interactive-object');
            
            if (!isClickInside && menu.style.display === 'block') {
                hideActions();
            }
        });

        // Initialize
        updateStatus('Idle');
    </script>
</body>
</html>
